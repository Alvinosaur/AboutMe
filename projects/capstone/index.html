<!DOCTYPE html>
<html lang="en">

<!-- Imports -->

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Personal Website">
  <meta name="author" content="Alvin Shek">

  <title>Autonomous Drone Videographer</title>

  <!-- Bootstrap Core CSS -->
  <link href="../../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom Fonts -->
  <link href="../../vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,300italic,400italic,700italic"
    rel="stylesheet" type="text/css">
  <link href="../../vendor/simple-line-icons/css/simple-line-icons.css" rel="stylesheet">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="../../css/project/wowchemy.min.css">
  <link rel="manifest" href="../../index.webmanifest">
  <link href="../../css/stylish-portfolio.css" rel="stylesheet">
  <link rel="icon" href="../../main_icon.svg">
  <link rel="apple-touch-icon" href="../../main_icon.svg">
  <link rel="canonical" href="https://alvinosaur.github.io/AboutMe/projects/idl_project">
  <link rel="alternate" hreflang="en-us" href="https://alvinosaur.github.io/AboutMe/projects/idl_project">

  <link rel="stylesheet" href="../../css/project/custom_project.css">

  <!-- Javascript -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

  <!------------------------------------------------------------------------>

  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <meta name="description"
    content="In top-5 among 46 projects in the course @ CMU 11-785 - Introduction to Deep Learning (Fall 2020) - [Project Gallery](https://deeplearning.cs.cmu.edu/F20/gallery/gallery.html)">

  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <meta name="theme-color" content="hsl(267°, 95%, 76%)">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css"
    integrity="sha256-FMvZuGapsJLjouA6k7Eo2lusoAX9i0ShlWFG6qt7SLc=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css"
    integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/github.min.css"
    crossorigin="anonymous" title="hl-light" disabled>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/dracula.min.css"
    crossorigin="anonymous" title="hl-dark">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.min.css"
    integrity="sha512-1xoFisiGdy9nvho8EgXuXvnpR5GAMSjFwp40gSRE3NwdUdIMIKuPa7bqoUhLD0O/5tPNhteAsE5XyyMi5reQVA=="
    crossorigin="anonymous">

  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CRoboto:400,400italic,700%7CRoboto+Mono&display=swap">

</head>



<body id="page-top">

  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top" id="sideNav">
    <a class="navbar-brand js-scroll-trigger" href="#page-top">
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link js-scroll-trigger" href="https://alvinosaur.github.io/AboutMe/#about">About</a>
        </li>
        <li class="nav-item">
          <a class="nav-link js-scroll-trigger" href="https://alvinosaur.github.io/AboutMe/#projects">Projects</a>
        </li>
        <li class="nav-item">
          <a class="nav-link js-scroll-trigger"
            href="https://alvinosaur.github.io/AboutMe/photography/main.html">Photography</a>
        </li>
        <li class="nav-item">
          <a class="nav-link js-scroll-trigger" href="https://alvinosaur.github.io/AboutMe/#contact_me">Contact Me</a>
        </li>
      </ul>
    </div>
  </nav>

  <div class="page-body bg-light">
    <article class="article article-project">

      <div class="article-container pt-3">
        <h1>Hawkeye: Autonomous Drone Videographer</h1>

        <div class="article-metadata">

          <span class="article-date">

            April 28, 2021
          </span>

        </div>

        <div class="btn-links mb-3">

          <a class="btn btn-outline-primary my-1 mr-1" href="ECE_Capstone_Final_Report.pdf" target="_blank"
            rel="noopener">
            PDF
          </a>

          <a class="btn btn-outline-primary my-1 mr-1" href="https://github.com/Alvinosaur/hawkeye" target="_blank"
            rel="noopener">
            Code
          </a>

          <a class="btn btn-outline-primary my-1 mr-1" href="final_presentation.pdf" target="_blank" rel="noopener">
            Slides
          </a>

          <a class="btn btn-outline-primary my-1 mr-1" href="poster.pdf" target="_blank" rel="noopener">
            Poster
          </a>

          <a class="btn btn-outline-primary my-1 mr-1" href="https://youtu.be/XjX7hMI5hj8" target="_blank"
            rel="noopener">
            Video
          </a>

        </div>

      </div>
      <div class="article-header article-container featured-image-wrapper mt-4 mb-4"
        style="max-width: 720px; max-height: 369px;">
        <div style="position: relative">
          <a href="https://youtu.be/XjX7hMI5hj8" target="_blank" rel="noopener">
            <img src="main.png" alt="" class="featured-image">
          </a>

          <span class="article-header-caption"></span>
        </div>
      </div>
      <br>

      <div class="article-header article-container featured-image-wrapper mt-4 mb-4"
        style="max-width: 720px; max-height: 369px;">
        <div style="position: relative">
          <img src="main_header.gif" alt="" class="featured-image">
          <span class="article-header-caption"></span>
        </div>
      </div>
      <br>

      <div class="article-container">

        <div class="article-style">
          <h3>Intro</h3>

          <p>Over the last few years, drones have become increas-ingly popular for both recreational and professional
            videog-raphy.Vloggers can take breathtaking aerial shots oftheir escapades through mountains and fjords. And
            duringsearch-and-rescue missions, rescuers can use drone footageto identify victims and monitor their own
            surroundings tocall for backup if needed. Yet, despite the numerous use-cases, one bottleneck stands in the
            way when it comes tocapturing drone footage: manual control.</p>

          <p>We created a drone capable of tracking target in real time as they move across the ground. Unlike other
            drones, which require expensive LiDAR or depth cameras, our system only requires a 2D RGB camera and GPS to
            estimate the 3D position of targets. Our drone also streams live video feed to a display. To maximize
            battery life of the drone and reduce weight, all computation is be offloaded to a small, portable computer
            -- in our case, the Jetson TX1.</p>
        </div>

        <h3>System Architecture</h3>

        <div class="article-header article-container featured-image-wrapper mt-4 mb-4"
          style="max-width: 720px; max-height: 400px;">
          <div style="position: relative">
            <img src="sys_arch.jpg" alt="" class="featured-image">
            <!-- <span class="article-header-caption"></span> -->
          </div>
        </div>

        <h3>Target Detection</h3>

        <div class="article-style">
          <div class="article-header article-container featured-image-wrapper mt-4 mb-4"
            style="max-width: 720px; max-height: 400px;">
            <div style="position: relative">
              <video controls>
                <source src="full_demo_pred.mp4#t=13,39" type="video/mp4">
                Your browser does not support the video tag.
              </video>
              <!-- <span class="article-header-caption"></span> -->
            </div>
          </div>
          <p>
            We require the target to wear a specific colored shirt and apply RGB color thresholding to filter their
            pixels in an image. This obtains a raw 2D pixel position. Next, using camera intrinsic parameters (ex:
            focial length) determined through calibration, we transform 2D pixel values to 3D position with respect to
            the camera's light sensor. Since we built a full-scale CAD model of our drone, we know the exact Cartesian
            transformation from the camera sensor to our drone's overall pose. Finally, using the drone's own onboard
            pose estimation, we can define the target's 3D position in real world space. This can be summarized as:
          <ul>
            <li>
              Image → Camera
            </li>
            <li>
              Camera → Drone
            </li>
            <li>
              Drone → World
            </li>
          </ul>

          More details can be found <a
            href="https://docs.google.com/document/d/1k8WualHEj0pRNi6kvquVwHG8lyX27G990YWq4Eg_IbQ/edit?usp=sharing"
            target="_blank" rel="noopener">in this document</a>. We also apply a Linear Kalman Filter to smooth out the
          final target position.
          </p>
        </div>

        <h3>Motion Planning</h3>
        <div class="article-header article-container featured-image-wrapper mt-4 mb-4"
          style="max-width: 720px; max-height: 400px;">
          <div style="position: relative">
            <img src="motion_planning.jpg" alt="Dynamics">
            <!-- <span class="article-header-caption"></span> -->
          </div>
        </div>

        <div class="article-style">
          <p>
            Now that we have the target's position, we can use this to plan the drone's motion. This involves three key
            steps:
          <ul>
            <li>
              <b>Drone Dynamics Model: </b> We first need to define a model of the drone’s state and how control inputs
              affect this state. We represent the drone’s state as simple 2D position [x, y] with an assumed fixed
              height of 8m. We define control input as horizontal velocity:

              This means that we cannot rotate the drone to face a target, but must move horizontally. <i>While these
                assumptions indeed limit our control of the drone, this behavior fits our use-case: by maintaining
                sufficient distance from the target, the drone does not need much agility.</i> These simple dynamics
              also allow our computation to meet the required rate specified by the drone’s flight controller.
            </li>

            <li>
              <b>Define Desired Behavior: </b> Next, we need to define some behavior for the drone. We firstly want the
              drone to keep the camera focused on the target,meaning the target should stay in the center of the image.
              This objective can be represented as a maximization of the dot-product between two vectors:
              <img src="dot_prod.png" alt="dot product">
              where <b>v1</b> is the fixed vector from the camera center to the center pixel on the image plane and
              <b>v2</b> is the dynamic vector from the drone’s camera to the 3D target position, obtained from the
              target detection pipeline. Second, we optimize for smooth, stable video footage,and this can be achieved
              by minimizing the motion of the drone represented in terms of velocity control input:
              <img src="stability.png" alt="L2 norm of velocity">
              where <b>v</b> = [vx, vy] is the velocity control input. We optimize these two objectives over a time
              horizon of 1 second with a step size of dt= 0.1 seconds. We use the predicted target trajectory inside
              this optimization. We have tuned weights for the above two costs to achieve desired behavior.
            </li>

            <li>
              <b>Solve for Behavior:</b> Now that we have defined our formulation, we can solve this using an
              optimization package. In our case, we use the Scipy Optimization package. We use a Model Predictive
              Control formulation to optimize over multiple timesteps, but only execute the first step of this plan.
              Every iteration, we generate an entire trajectory, but execute onlythe first step. This ensures our motion
              is not only optimal, but is reactive to position drift and external disturbances like wind due to the
              feedback loop planning
            </li>

          </ul>
          </p>
        </div>
        <h3>Thoughts</h3>
        <p>
          Though we only had a few months to complete project, I really want to extend how the target interacts with the
          drone. Rather than purely following the target, the target should be able to use hand gestures to control the
          drone. By waving one's arm from left to right, the drone should perform a fast, panoramic sweep from the left
          side of the target to the right and pull back up.

        </p>




        <div class="media author-card content-widget-hr">


          <a href="https://alvinosaur.github.io/AboutMe"><img class="avatar mr-3 avatar-circle"
              src="../../profile_pic.jpg" alt="Alvin Shek"></a>


          <div class="media-body">
            <h5 class="card-title"><a href="https://alvinosaur.github.io/AboutMe">Alvin Shek</a></h5>
            <h6 class="card-subtitle">Robotics Masters Student @ CMU</h6>
            <p class="card-text">Robotics, Computer Vision, Deep Learning, Reinforcement Learning.</p>
            <ul class="network-icon" aria-hidden="true">

              <li>
                <a href="mailto:ashek@andrew.cmu.edu">
                  <i class="fas fa-envelope"></i>
                </a>
              </li>

              <li>
                <a href="https://github.com/Alvinosaur" target="_blank" rel="noopener">
                  <i class="fab fa-github"></i>
                </a>
              </li>

              <li>
                <a href="https://www.linkedin.com/in/alvinshek/" target="_blank" rel="noopener">
                  <i class="fab fa-linkedin"></i>
                </a>
              </li>

              <li>
                <a href="../../Alvin_Shek_Resume.pdf" target="_blank" rel="noopener">
                  <i class="far fa-address-book"></i>
                </a>
              </li>

            </ul>

          </div>
        </div>


        <div class="project-related-pages content-widget-hr">

        </div>
      </div>
    </article>
  </div>


</body>

</html>